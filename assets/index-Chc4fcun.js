import{D as j,g,A as h,d as S,f,x as H,j as M,E as O,b as _,u as o,e as R,q as I,m as $,o as z,k as T,_ as B,G as L,n as N}from"./index-CR63uCWN.js";function V(t){const n=j({width:0,height:0});function a(){if(!t.value)return;const{width:e,height:i}=t.value.getBoundingClientRect();n.width=e,n.height=i}return g(()=>{a(),window.addEventListener("resize",a)}),h(()=>{window.removeEventListener("resize",a)}),n}function q(t,n){let a;function e(){t.autoplay&&(a=setInterval(()=>{n(!1)},t.interval))}function i(){clearInterval(a)}function r(){i(),e()}return g(()=>{e()}),h(()=>{clearInterval(a)}),{startPlay:e,pausePlay:i,resetPlay:r}}function A({current:t,count:n,isNext:a},e){function i(s=!0){s&&e(),a.value=!0,t.value=(t.value+1)%n.value}function r(s=!0){s&&e(),a.value=!1,t.value=(t.value-1+n.value)%n.value}function u(s){s<0||s>n.value-1||(e(),a.value=s>t.value,t.value=s)}return{toNext:i,toPrev:r,goTo:u}}const D=S({__name:"Swiper",props:{autoplay:{type:Boolean,default:!0},interval:{default:3e3},duration:{default:300},card:{type:Boolean},scale:{default:.6},pauseOnHover:{type:Boolean,default:!0}},emits:["change"],setup(t,{expose:n,emit:a}){T(d=>({f8ef1e34:i}));const e=t,i=`${e.duration}ms`,r=f(0),u=f(0),s=f(!0),c=f(),m=V(c),x=H(()=>{if(!c.value)return 0;const l=m.width*r.value*(e.card?e.scale:1)/r.value,v=-(l*u.value);return e.card?v+l*.333:v}),k=a;M(u,d=>{k("change",d)});const{toNext:p,toPrev:w,goTo:y}=A({current:u,count:r,isNext:s},()=>b()),{startPlay:C,pausePlay:E,resetPlay:b}=q(e,p);return O(P,{current:u,card:e.card,scale:e.scale,register(){return r.value+=1,r.value-1},goTo:y,toPrev:w,toNext:p}),n({toNext:p,toPrev:w,goTo:y}),(d,l)=>(z(),_("div",{class:"swiper",onMouseenter:l[0]||(l[0]=v=>t.pauseOnHover&&o(E)()),onMouseleave:l[1]||(l[1]=v=>t.pauseOnHover&&o(C)())},[R("div",{ref_key:"containerRef",ref:c,class:"swiper-container",style:$({transform:`translate3d(${x.value}px, 0, 0)`})},[I(d.$slots,"default",{},void 0)],4)],32))}}),U=B(D,[["__scopeId","data-v-7d6d3eb1"]]),G=S({__name:"SwiperItem",setup(t){const{current:n,card:a,scale:e,register:i,goTo:r}=L(P),u=i();return(s,c)=>(z(),_("div",{class:N(["swiper-item",{card:o(a),active:o(u)===o(n)}]),style:$({width:`${o(a)?o(e)*100:100}%`}),onClick:c[0]||(c[0]=m=>o(a)&&o(u)!==o(n)&&o(r)(o(u)))},[I(s.$slots,"default",{},void 0)],6))}}),W=B(G,[["__scopeId","data-v-14594aae"]]),P=Symbol();export{U as S,W as a};
